
<!DOCTYPE html>
<html lang="" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>于晓俞的博客</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="前端 H5 CSS3 JS JQUERY REACT VUE NODEJS HTML,webpack4.30.0-常用loader"> 
    <meta name="description" content="webpack4.30.0-常用loader,前阵子写了个webpack3的博客写了一半，现在最新版已经在4了，就再用4的版本重新写一次
LIST
file-loader
url-loader
css-loader
less-loader
po,"> 
    <meta name="author" content="于晓俞"> 
    <link rel="alternative" href="atom.xml" title="于晓俞的博客" type="application/atom+xml"> 
    <link rel="icon" href="/img/yu-favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
</head>
</html>
<body class="loading">
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">canvas</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" style="display: none;" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>
    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">canvas</h1>
        <div class="stuff">
            <span>十一月 12, 2018</span>
            

        </div>
        <div class="content markdown">
            <p>HTML5 <code>&lt;canvas&gt;</code> 元素用于图形的绘制，通过脚本 (通常是JavaScript)来完成.<br><code>&lt;canvas&gt;</code> 标签只是图形容器，您必须使用脚本来绘制图形。<br>你可以通过多种方法使用 canvas 绘制路径,盒、圆、字符以及添加图像。</p>
<p>绘制方式:<br>1.创建画布<br>2.获取绘图对象<br>3.定点<br>4.绘制<br>5.重置路径</p>
<h4 id="LIST"><a href="#LIST" class="headerlink" title="LIST"></a>LIST</h4><ul>
<li><a href="#画线">画线</a></li>
<li><a href="#线之间的连接方式">线之间的连接方式</a></li>
<li><a href="#平移">平移</a></li>
<li><a href="#闭合路径">闭合路径</a></li>
<li><a href="#线性渐变">线性渐变</a></li>
<li><a href="#径向渐变">径向渐变</a></li>
<li><a href="#非零环绕">非零环绕</a></li>
<li><a href="#画虚线">画虚线</a></li>
<li><a href="#绘制动画矩形">绘制动画矩形</a></li>
<li><a href="#绘制文本">绘制文本</a></li>
<li><a href="#绘制图片">绘制图片</a></li>
<li><a href="#绘制弧度">绘制弧度</a></li>
<li><a href="#旋转">旋转</a></li>
<li><a href="#缩放">缩放</a></li>
</ul>
<h4 id="画线"><a href="#画线" class="headerlink" title="画线"></a>画线</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"800"</span> height=<span class="string">"600"</span>&gt;&lt;/canvas&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//画一条线</span></span><br><span class="line">  <span class="comment">//获取画布</span></span><br><span class="line">  <span class="keyword">var</span> c = <span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘图的对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx = c.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//开始的位置(横纵坐标)</span></span><br><span class="line">  ctx.moveTo(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">  <span class="comment">//结束的位置</span></span><br><span class="line">  ctx.lineTo(<span class="number">300</span>, <span class="number">100</span>);</span><br><span class="line">  <span class="comment">//设置线的颜色</span></span><br><span class="line">  ctx.strokeStyle = <span class="string">"red"</span>;</span><br><span class="line">  <span class="comment">//设置线的宽度</span></span><br><span class="line">  ctx.lineWidth = <span class="number">20</span>;</span><br><span class="line">  <span class="comment">//绘制</span></span><br><span class="line">  ctx.stroke();</span><br><span class="line"></span><br><span class="line">  ctx.beginPath();<span class="comment">//重置路径 每次绘制完成，要调用一下beginPath这个方法，要不然会把上面已经画过的再话一次造成重叠变粗</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/1.png" alt=""></p>
<h4 id="线之间的连接方式"><a href="#线之间的连接方式" class="headerlink" title="线之间的连接方式"></a>线之间的连接方式</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"800"</span> height=<span class="string">"500"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//获取画布</span></span><br><span class="line">  <span class="keyword">var</span> c=<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘制的对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx=c.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  ctx.moveTo(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">300</span>,<span class="number">150</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">100</span>,<span class="number">200</span>);</span><br><span class="line">  ctx.strokeStyle=<span class="string">"red"</span>;</span><br><span class="line">  <span class="comment">//设置连接处的样式</span></span><br><span class="line">  ctx.lineJoin=<span class="string">"round"</span>;<span class="comment">//round(圆滑的)------bevel(平的)----miter(尖的)默认的</span></span><br><span class="line">  <span class="comment">//线两端的形状</span></span><br><span class="line">  ctx.lineCap=<span class="string">"round"</span>;<span class="comment">//butt(默认值，平直) | round(每个末端添加圆形线帽) | square(每个末端添加正方形线帽，看起来会觉得和默认没什么区别，实际上会长一块) </span></span><br><span class="line">  ctx.lineWidth=<span class="number">10</span>;</span><br><span class="line">  ctx.stroke();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/2.png" alt=""></p>
<h4 id="平移"><a href="#平移" class="headerlink" title="平移"></a>平移</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"600"</span> height=<span class="string">"400"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="comment">//获取canvas画布对象</span></span><br><span class="line">  <span class="keyword">var</span> canvas =<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘图上下文</span></span><br><span class="line">  <span class="keyword">var</span> ctx=canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">  <span class="comment">//平移画图的原点(默认原点在左上角)</span></span><br><span class="line">  <span class="comment">//设置画布原点平移</span></span><br><span class="line">  ctx.translate(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">  <span class="comment">//画一条横线</span></span><br><span class="line">  ctx.moveTo(<span class="number">0</span>,<span class="number">0</span>);<span class="comment">//仍然是0,0的位置为起始点</span></span><br><span class="line">  ctx.lineTo(<span class="number">100</span>,<span class="number">0</span>);</span><br><span class="line">  ctx.lineWidth=<span class="number">10</span>;</span><br><span class="line">  ctx.strokeStyle=<span class="string">"green"</span>;</span><br><span class="line">  ctx.stroke();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>translate之后起始点是不会改变的。<br><img src="/img/canvas/3.png" alt=""></p>
<h4 id="闭合路径"><a href="#闭合路径" class="headerlink" title="闭合路径"></a>闭合路径</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"800"</span> height=<span class="string">"500"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//获取画布</span></span><br><span class="line">  <span class="keyword">var</span> c=<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘制的对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx=c.getContext(<span class="string">"2d"</span>);</span><br><span class="line">  <span class="comment">//闭合路径</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//画一个三角形</span></span><br><span class="line">  ctx.moveTo(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">100</span>,<span class="number">300</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">400</span>,<span class="number">300</span>);</span><br><span class="line"> <span class="comment">// ctx.lineTo(100,100);</span></span><br><span class="line">  ctx.closePath();<span class="comment">//闭合路径,画图就差最后一步合并了,那么此时可以使用</span></span><br><span class="line">  ctx.stroke();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>closePath 直接将起点和终点闭合。<br><img src="/img/canvas/4.png" alt=""></p>
<h4 id="线性渐变"><a href="#线性渐变" class="headerlink" title="线性渐变"></a>线性渐变</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"800"</span> height=<span class="string">"500"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//获取画布</span></span><br><span class="line">  <span class="keyword">var</span> c=<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘制的对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx=c.getContext(<span class="string">"2d"</span>);</span><br><span class="line">  <span class="comment">//创建渐变的方案</span></span><br><span class="line">  <span class="comment">//起始位置的横纵坐标,结束位置的横纵坐标</span></span><br><span class="line">  <span class="keyword">var</span> lgd=ctx.createLinearGradient(<span class="number">100</span>,<span class="number">100</span>,<span class="number">500</span>,<span class="number">100</span>);</span><br><span class="line">  <span class="comment">//添加渐变的颜色</span></span><br><span class="line">  <span class="comment">//0---开始的，1结束,0到1之间的小数</span></span><br><span class="line">  lgd.addColorStop(<span class="number">0</span>,<span class="string">"red"</span>);</span><br><span class="line">  lgd.addColorStop(<span class="number">0.2</span>,<span class="string">"green"</span>);</span><br><span class="line">  lgd.addColorStop(<span class="number">0.5</span>,<span class="string">"blue"</span>);</span><br><span class="line">  lgd.addColorStop(<span class="number">1</span>,<span class="string">"yellow"</span>);</span><br><span class="line">  <span class="comment">//把渐变的方案给strokeStyle</span></span><br><span class="line">  ctx.strokeStyle=lgd;</span><br><span class="line"></span><br><span class="line">  ctx.moveTo(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">500</span>,<span class="number">100</span>);</span><br><span class="line">  ctx.lineWidth=<span class="number">20</span>;</span><br><span class="line">  ctx.stroke();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/5.png" alt=""></p>
<h4 id="径向渐变"><a href="#径向渐变" class="headerlink" title="径向渐变"></a>径向渐变</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"800"</span> height=<span class="string">"500"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//获取画布</span></span><br><span class="line">  <span class="keyword">var</span> c=<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘制的对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx=c.getContext(<span class="string">"2d"</span>);</span><br><span class="line">  <span class="comment">//创建渐变方案</span></span><br><span class="line">  <span class="comment">//开始的横纵坐标,半径,结束的横纵坐标,半径</span></span><br><span class="line">  <span class="keyword">var</span> rgd=ctx.createRadialGradient(<span class="number">200</span>,<span class="number">150</span>,<span class="number">50</span>,<span class="number">200</span>,<span class="number">150</span>,<span class="number">100</span>);</span><br><span class="line">  <span class="comment">//添加渐变的颜色</span></span><br><span class="line">  rgd.addColorStop(<span class="number">0</span>,<span class="string">"red"</span>);</span><br><span class="line">  rgd.addColorStop(<span class="number">0.5</span>,<span class="string">"green"</span>);</span><br><span class="line">  rgd.addColorStop(<span class="number">1</span>,<span class="string">"blue"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//设置填充的样式</span></span><br><span class="line">  ctx.fillStyle=rgd;</span><br><span class="line">  ctx.moveTo(<span class="number">100</span>,<span class="number">50</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">300</span>,<span class="number">50</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">100</span>,<span class="number">300</span>);</span><br><span class="line">  ctx.closePath();</span><br><span class="line">  ctx.fill();<span class="comment">//填充</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/6.png" alt=""></p>
<h4 id="非零环绕"><a href="#非零环绕" class="headerlink" title="非零环绕"></a>非零环绕</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"800"</span> height=<span class="string">"500"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//获取画布</span></span><br><span class="line">  <span class="keyword">var</span> c=<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘制的对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx=c.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//逆时针</span></span><br><span class="line">  ctx.moveTo(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">100</span>,<span class="number">300</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">300</span>,<span class="number">100</span>);</span><br><span class="line">  ctx.closePath();</span><br><span class="line"></span><br><span class="line">  <span class="comment">//顺时针</span></span><br><span class="line">  ctx.moveTo(<span class="number">150</span>,<span class="number">150</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">250</span>,<span class="number">150</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">250</span>,<span class="number">250</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">150</span>,<span class="number">250</span>);</span><br><span class="line">  ctx.closePath();</span><br><span class="line"></span><br><span class="line">  ctx.stroke();</span><br><span class="line">  ctx.fillStyle=<span class="string">"red"</span>;</span><br><span class="line">  ctx.fill();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/7.png" alt=""></p>
<h4 id="画虚线"><a href="#画虚线" class="headerlink" title="画虚线"></a>画虚线</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"800"</span> height=<span class="string">"500"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//获取画布</span></span><br><span class="line">  <span class="keyword">var</span> c=<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘制的对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx=c.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  ctx.moveTo(<span class="number">100</span>,<span class="number">50</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">400</span>,<span class="number">50</span>);</span><br><span class="line">  <span class="comment">//虚线:参数是一个数组:线的长度是20,空白的地方也是20</span></span><br><span class="line">  <span class="comment">//ctx.setLineDash([20,20]);</span></span><br><span class="line">  <span class="comment">//ctx.setLineDash([20,10]);</span></span><br><span class="line">  ctx.setLineDash([<span class="number">10</span>,<span class="number">5</span>,<span class="number">20</span>]);</span><br><span class="line">  ctx.stroke();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/8.png" alt=""></p>
<h4 id="绘制动画矩形"><a href="#绘制动画矩形" class="headerlink" title="绘制动画矩形"></a>绘制动画矩形</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"800"</span> height=<span class="string">"500"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//获取画布</span></span><br><span class="line">  <span class="keyword">var</span> c = <span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘制的对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx = c.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">0</span>;<span class="comment">//开始的坐标</span></span><br><span class="line">  <span class="comment">//每次移动的步数</span></span><br><span class="line">  <span class="keyword">var</span> step = <span class="number">5</span>;</span><br><span class="line">  <span class="comment">//标记(设置矩形向右移动后再回来)</span></span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">  setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//清理画布</span></span><br><span class="line">    ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, c.width, c.height);</span><br><span class="line"></span><br><span class="line">    ctx.fillStyle = <span class="string">"green"</span>;<span class="comment">//颜色</span></span><br><span class="line">    ctx.fillRect(x, <span class="number">100</span>, <span class="number">100</span>, <span class="number">200</span>);<span class="comment">//横纵坐标,宽和高</span></span><br><span class="line">    ctx.stroke();</span><br><span class="line"></span><br><span class="line">    x += step * i;<span class="comment">//控制横坐标的</span></span><br><span class="line">    <span class="keyword">if</span> (x &gt; c.width - <span class="number">100</span>) &#123;</span><br><span class="line">      i = <span class="number">-1</span>;<span class="comment">//标记设置为-1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      i = <span class="number">1</span>;<span class="comment">//i的值,不是x</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">10</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/9.gif" alt=""></p>
<h4 id="绘制文本"><a href="#绘制文本" class="headerlink" title="绘制文本"></a>绘制文本</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"600"</span> height=<span class="string">"400"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="comment">//获取canvas画布对象</span></span><br><span class="line">  <span class="keyword">var</span> canvas =<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘图上下文</span></span><br><span class="line">  <span class="keyword">var</span> ctx=canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  ctx.moveTo(<span class="number">300</span>, <span class="number">0</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">300</span>, <span class="number">400</span>);</span><br><span class="line">  ctx.stroke();</span><br><span class="line"></span><br><span class="line">  ctx.beginPath();</span><br><span class="line"></span><br><span class="line">  ctx.moveTo(<span class="number">0</span>, <span class="number">200</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">600</span>,<span class="number">200</span>);</span><br><span class="line">  ctx.stroke();</span><br><span class="line"></span><br><span class="line">  <span class="comment">//绘制文本 :是像素 和字体</span></span><br><span class="line">  ctx.font=<span class="string">"50px 楷体"</span>;</span><br><span class="line"> <span class="comment">//设置文本的对齐方式</span></span><br><span class="line">  ctx.textAlign=<span class="string">"center"</span>;<span class="comment">//left|right|center</span></span><br><span class="line">  <span class="comment">//设置文本的上下对齐方式</span></span><br><span class="line">  ctx.textBaseline=<span class="string">"middle"</span>;<span class="comment">//top|bottom|alphabetic(默认)</span></span><br><span class="line">  <span class="comment">//设置阴影的颜色</span></span><br><span class="line">  ctx.shadowColor=<span class="string">"red"</span>;</span><br><span class="line">  <span class="comment">//水平方向偏移量</span></span><br><span class="line">  ctx.shadowOffsetX=<span class="number">5</span>;</span><br><span class="line">  ctx.shadowOffsetY=<span class="number">5</span>;</span><br><span class="line">  <span class="comment">//阴影的模糊度</span></span><br><span class="line">  ctx.shadowBlur=<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//参数1:文字内容，参数2:横坐标,参数3；纵坐标</span></span><br><span class="line">  <span class="comment">//镂空的效果</span></span><br><span class="line">  ctx.strokeText(<span class="string">"于晓俞"</span>,<span class="number">300</span>,<span class="number">200</span>);</span><br><span class="line">  <span class="comment">//填充文本</span></span><br><span class="line">  ctx.fillText(<span class="string">"于晓俞"</span>,<span class="number">300</span>,<span class="number">200</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/10.png" alt=""></p>
<h4 id="绘制图片"><a href="#绘制图片" class="headerlink" title="绘制图片"></a>绘制图片</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"400"</span> height=<span class="string">"300"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="comment">//获取canvas画布对象</span></span><br><span class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘图上下文</span></span><br><span class="line">  <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//绘制图片</span></span><br><span class="line">  <span class="keyword">var</span> img = <span class="built_in">document</span>.createElement(<span class="string">"img"</span>);</span><br><span class="line">  img.src = <span class="string">"image/2.jpg"</span>;</span><br><span class="line">  <span class="comment">//图片和画图发生关系,才可以绘制这个图片</span></span><br><span class="line">  <span class="comment">//图片加载</span></span><br><span class="line">  img.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//图片对象,画布的横纵坐标,图片的宽和高</span></span><br><span class="line">    <span class="comment">//      ctx.drawImage(img,100,100,200,100);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//图片对象,图片选择的横纵坐标,图片的宽和高,画图的横纵坐标,图片显示的宽和高</span></span><br><span class="line">    ctx.drawImage(img, <span class="number">180</span>, <span class="number">50</span>, <span class="number">350</span>, <span class="number">170</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">350</span>, <span class="number">170</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/11.png" alt=""></p>
<h4 id="绘制弧度"><a href="#绘制弧度" class="headerlink" title="绘制弧度"></a>绘制弧度</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"400"</span> height=<span class="string">"300"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> c=<span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘制对象</span></span><br><span class="line">  <span class="keyword">var</span> ctx=c.getContext(<span class="string">"2d"</span>);</span><br><span class="line">  <span class="comment">//绘制弧度:圆心坐标,半径,开始的弧度,结束的弧度,默认顺时针(false)</span></span><br><span class="line">  ctx.arc(<span class="number">200</span>,<span class="number">150</span>,<span class="number">50</span>,<span class="built_in">Math</span>.PI/<span class="number">2</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,<span class="literal">false</span>);</span><br><span class="line">  ctx.stroke();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/12.png" alt=""></p>
<h4 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"600"</span> height=<span class="string">"400"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="comment">//获取canvas画布对象</span></span><br><span class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘图上下文</span></span><br><span class="line">  <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//设置画布原点平移</span></span><br><span class="line">  ctx.translate(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//旋转的弧度</span></span><br><span class="line">  ctx.rotate(<span class="built_in">Math</span>.PI / <span class="number">10</span>);<span class="comment">//90度</span></span><br><span class="line">  ctx.moveTo(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">150</span>, <span class="number">100</span>);</span><br><span class="line">  ctx.moveTo(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">  ctx.lineTo(<span class="number">100</span>, <span class="number">150</span>);</span><br><span class="line">  ctx.stroke();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/13.png" alt=""></p>
<h4 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas width=<span class="string">"600"</span> height=<span class="string">"400"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="comment">//获取canvas画布对象</span></span><br><span class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"canvas"</span>);</span><br><span class="line">  <span class="comment">//获取绘图上下文</span></span><br><span class="line">  <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">  ctx.translate(<span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">  <span class="comment">//缩放的比例</span></span><br><span class="line">  ctx.scale(<span class="number">2</span>, <span class="number">0.5</span>);<span class="comment">//参数1:相对于原来的横坐标的缩放值,参数2:相对于原来的纵坐标的缩放值</span></span><br><span class="line">  ctx.arc(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI);</span><br><span class="line">  ctx.stroke();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/canvas/14.png" alt=""></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        <li title="0" data-url="http://link.hhtjim.com/163/5146554.mp3"></li>
                    
                        <li title="1" data-url="http://link.hhtjim.com/qq/001faIUs4M2zna.mp3"></li>
                    
                </ul>
            
        </div>
        

    </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-129771196-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


</html>